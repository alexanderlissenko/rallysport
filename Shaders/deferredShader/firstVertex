#version 420
/*
Implemented whith http://www.codinglabs.net/tutorial_simple_def_rendering.aspx 
Marco Alamia as reference.
*/

in vec3 positionIn;
in vec3 normalIn;

out vec3 normals;
out vec4 position;

uniform mat4 worldMatrix, modelView , ModelViewProjectionMatrix,norlamMatrix;


void main(){    
    
    mat3 worldMatrixInvers = transpose(worldMatrix);
    
    gl_position    = ModelViewProjectionMatrix * positionIn;
    gl_TexCoord[0] = gl_MultiTexCoord0;    
    normals        = normalize(worldMatrixInvers * noramalMatrix,normalIn);
    position       = modelView * positionIn;
    gl_FrontColor = vec4(1.0,1.0,1.0,1.0);
}